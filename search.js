(()=>{(()=>{let c=null,n=new XMLHttpRequest;n.onreadystatechange=()=>{n.readyState===4&&n.status===200&&(c=JSON.parse(n.responseText))},n.open("GET","/index.json"),n.send();let p=async(r,a)=>{let u=new RegExp(r.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),h=["permalink","tags","title"],d=a.filter(e=>{for(let s of h)if(!!e[s]){if(Array.isArray(e[s])){if(e[s].some(l=>u.test(l.toLowerCase())))return!0}else if(u.test(e[s].toLowerCase()))return!0}return!1});if(d.length>0){let e=document.createElement("ul");return e.setAttribute("class","pt-1"),d.forEach(s=>{let l=document.createElement("li"),i=document.createElement("a");l.setAttribute("class","px-1 py-1"),i.setAttribute("href",s.permalink),i.setAttribute("class","is-block"),i.innerHTML=s.title,l.appendChild(i),e.appendChild(l)}),e}return null},t=document.getElementById("search-result"),o=document.getElementById("search-input");o?.addEventListener("input",async r=>{let a=null;r.currentTarget.value&&(a=await p(r.currentTarget.value,c)),t.lastChild&&t.removeChild(t.lastChild),a&&t.appendChild(a)}),o?.addEventListener("focusout",r=>{r.target.value="",setTimeout(()=>{t.lastChild&&t.removeChild(t.lastChild)},150)})})();})();
