(()=>{let c=null;const b=new XMLHttpRequest;b.onreadystatechange=()=>{b.readyState===4&&b.status===200&&(c=JSON.parse(b.responseText))},b.open('GET','/index.json'),b.send();const e=async(c,d)=>{const a=new RegExp(c.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,'\\$&')),e=['permalink','tags','title'],b=d.filter(b=>{for(const c of e){if(!b[c])continue;if(Array.isArray(b[c])){if(b[c].some(b=>a.test(b.toLowerCase())))return!0}else if(a.test(b[c].toLowerCase()))return!0}return!1});if(b.length>0){const a=document.createElement('ul');return a.setAttribute('class','pt-1'),b.forEach(d=>{const c=document.createElement('li'),b=document.createElement('a');c.setAttribute('class','px-1 py-1'),b.setAttribute('href',d.permalink),b.setAttribute('class','is-block'),b.innerHTML=d.title,c.appendChild(b),a.appendChild(c)}),a}return null},a=document.getElementById('search-result'),d=document.getElementById('search-input');d?.addEventListener('input',async d=>{let b=null;d.currentTarget.value&&(b=await e(d.currentTarget.value,c)),a.lastChild&&a.removeChild(a.lastChild),b&&a.appendChild(b)}),d?.addEventListener('focusout',b=>{b.target.value='',setTimeout(()=>{a.lastChild&&a.removeChild(a.lastChild)},150)})})()